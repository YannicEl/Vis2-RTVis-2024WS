import{b as I,t as O}from"../chunks/disclose-version.BcvwuTr4.js";import{u as U,w as Y,z as n,A as q,B as D}from"../chunks/runtime.Cjuk95Ml.js";import{b as E}from"../chunks/this.DsiEjiIA.js";import{o as F}from"../chunks/index-client.DibeTDnh.js";import{i as J,b as A,c as K,e as L,S as N,v as e,R as Q,C as T,a as V,A as X,d as Z}from"../chunks/Scene.D-IVrs4_.js";import{g as M}from"../chunks/globalState.svelte.CHPqU7Zl.js";import{S as a}from"../chunks/SceneObject.Dp-QgdB2.js";var $=O('<canvas class="h-full w-full"></canvas>');function ie(B,W){U(W,!0);let o=q(void 0);F(async()=>{if(!n(o))return;const r=n(o).getContext("webgpu");if(r)try{const{device:s}=await J(),i=new A("white"),h=new A("green"),f=new K({radiusTop:.05,radiusBottom:.05,height:1}),c=new L({radius:.1}),l=new a(c,i),d=new a(c,i),b=new a(f,h),p=new a(c,i),m=new a(c,i),g=new a(f,h),v=new N([l,d,b,p,m,g]);await v.load(s),l.setPosition(e.create(0,0,0)),d.setPosition(e.create(1,1,1)),p.setPosition(e.create(3,1,0)),m.setPosition(e.create(3,0,1));let _=(t,y,P)=>{let R=e.sub(P.position,y.position),G=e.length(R);t.scaleY(G);let x=e.create(0,1,0),z=e.divScalar(R,G),j=e.dot(x,z),k=Math.acos(j),H=e.cross(x,z);t.setRotation(180*k/Math.PI,H),t.translate(e.divScalar(e.add(y.position,P.position),2))};_(b,l,d),_(g,p,m);const C=new Q({context:r,device:s,clearColor:"black"}),u=new T;V({canvas:n(o),device:s,onResize:t=>{u.aspect=t.clientWidth/t.clientHeight,C.onCanvasResized(t.width,t.height)}});const S=new X({eventSource:n(o),camera:u});M.contols=S,Z(t=>{M.fps=1e3/t,S.update(t),C.render(v,{camera:u})})}catch(s){alert(s)}});var w=$();E(w,r=>D(o,r),()=>n(o)),I(B,w),Y()}export{ie as component};
