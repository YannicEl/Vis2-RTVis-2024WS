<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>vis2-rtvis-2024ws</title><link rel="icon" href="assets/favicon.png" type="image/png"/><meta name="description" content="Documentation for vis2-rtvis-2024ws"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">vis2-rtvis-2024ws</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>vis2-rtvis-2024ws</h1></div><div class="tsd-panel tsd-typography"><br>
<br>
<div align="center"><img src="media/favicon.png"/></div>
<br>
<div align="center"><strong>Rendering molecules for fun and profit</strong></div>
<div align="center">Yannic Ellhotka & Simon Wesp</div>
<br>
<br>
<a id="prequesites" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Prequesites<a href="#prequesites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><ul>
<li><a href="https://nodejs.org/en/download">Node 22</a></li>
<li>A browser with <a href="https://caniuse.com/webgpu">WebGPU support</a></li>
<li>Optional but recommended <a href="https://pnpm.io/installation#using-corepack">pnpm</a></li>
</ul>
<a id="how-to-run" class="tsd-anchor"></a><h1 class="tsd-anchor-link">How to run<a href="#how-to-run" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><ol>
<li><code>npm install</code></li>
<li><code>npm run dev</code></li>
<li>Open <a href="http://localhost:3000">http://localhost:3000</a></li>
</ol>
<a id="hosted-version" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Hosted version<a href="#hosted-version" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://vis2-rtvis-2024ws.yannic.at/">https://vis2-rtvis-2024ws.yannic.at/</a></p>
<a id="how-to-prepare-molecule-files" class="tsd-anchor"></a><h1 class="tsd-anchor-link">How to prepare molecule files<a href="#how-to-prepare-molecule-files" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><a id="prequesites-1" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Prequesites<a href="#prequesites-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://www.gromacs.org/">GROMACS</a></li>
<li><a href="https://gitlab.com/KomBioMol/gromologist">Gromologist</a></li>
</ul>
<a id="instructions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Instructions<a href="#instructions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li>Pick a Computed Structure Models (CSMs) from <a href="https://www.rcsb.org/search?request=%7B%22query%22%3A%7B%22type%22%3A%22group%22%2C%22nodes%22%3A%5B%7B%22type%22%3A%22group%22%2C%22nodes%22%3A%5B%7B%22type%22%3A%22group%22%2C%22nodes%22%3A%5B%7B%22type%22%3A%22terminal%22%2C%22service%22%3A%22text%22%2C%22parameters%22%3A%7B%22attribute%22%3A%22rcsb_entry_info.structure_determination_methodology%22%2C%22operator%22%3A%22exact_match%22%2C%22value%22%3A%22computational%22%7D%7D%5D%2C%22logical_operator%22%3A%22and%22%7D%5D%2C%22logical_operator%22%3A%22and%22%2C%22label%22%3A%22text%22%7D%5D%2C%22logical_operator%22%3A%22and%22%7D%2C%22return_type%22%3A%22entry%22%2C%22request_options%22%3A%7B%22scoring_strategy%22%3A%22combined%22%2C%22results_content_type%22%3A%5B%22computational%22%5D%2C%22paginate%22%3A%7B%22start%22%3A0%2C%22rows%22%3A25%7D%2C%22sort%22%3A%5B%7B%22sort_by%22%3A%22score%22%2C%22direction%22%3A%22desc%22%7D%5D%7D%2C%22request_info%22%3A%7B%22query_id%22%3A%22086f7e81292c787a2b6e45142c3eea61%22%7D%7D">here</a>.</li>
<li>Download the models CIF file.</li>
<li>Convert the CIF to PDB <a href="https://project-gemmi.github.io/wasm/convert/cif2pdb.html">here</a>.</li>
<li>Run the <code>pdb_to_conect</code> notebook found in the <code>pdb-processing</code> folder.</li>
<li>The resulting pdb file can be used in this project.</li>
</ol>
<p>If the conversion fails at step 4, you may have supplied an invalid molecule file. Through testing we found that many experimentally-determined PDB structures do strictly adhere to the pdb file format and cannot be parsed correctly.</p>
<p>Alternatively, try generating a topology file with the <code>create-topology.sh</code> bash script. Feed the topology file to gromologist alongside the cleaned pdb. You may get better results this way.</p>
<a id="component-overview" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Component Overview<a href="#component-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><a id="camera" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Camera<a href="#camera" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Camera component manages the viewpoint and perspective within the 3D scene. It handles parameters such as position, orientation, field of view, and projection matrices, enabling users to navigate and visualize the scene from different angles.</p>
<a id="geometry" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Geometry<a href="#geometry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Holds all vertices and indices belonging to a piece of geometry. Has helper functions for writing vertex and index buffers to the GPU.</p>
<a id="material" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Material<a href="#material" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Holds a material and provides a function for writing data to the GPU.</p>
<a id="object3d" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Object3D<a href="#object3d" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Basic 3D object that holds all data required for calculating the model matrix.</p>
<a id="sceneobject" class="tsd-anchor"></a><h2 class="tsd-anchor-link">SceneObject<a href="#sceneobject" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>WebGPU-specific object that extends <code>Object3D</code> with <code>load</code>, <code>update</code> and <code>render</code> functions.</p>
<a id="instancing" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Instancing<a href="#instancing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>There is an instanced variant of the <code>SceneObject</code>. When the same <code>SceneObject</code> is used multiple times, using instancing can greatly boost performance.</p>
<p>It allows efficient endering of multiple copies of the same geometry with varying transformations and materials. This technique reduces the overhead of drawing numerous objects by batching them into a single draw call, enhancing performance.</p>
<a id="scene" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Scene<a href="#scene" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wrapper object that holds a number of <code>SceneObjects</code> and provides functions for drawing and updating them.</p>
<a id="renderer" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Renderer<a href="#renderer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Renderer is responsible for loading and rendering scenes and managing related WebGPU-specific tasks.</p>
<a id="protein-file-parser" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Protein File Parser<a href="#protein-file-parser" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="pdb" class="tsd-anchor"></a><h3 class="tsd-anchor-link">PDB<a href="#pdb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>pdb is the file format used by <a href="https://www.rcsb.org/">RCSB protein data bank</a>. We only support files with explicit <code>CONECT</code>instructions.</p>
<a id="mmcif" class="tsd-anchor"></a><h3 class="tsd-anchor-link">mmCIF<a href="#mmcif" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>mmCIF is meant to be the more modern replacement for pdb files. We recommend to convert mmCIF files to pdb instead of relying on our own parser implementation.</p>
<a id="uniform-buffer" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Uniform Buffer<a href="#uniform-buffer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Utility for writing buffers to the GPU. Automatically applies required padding and alignment.</p>
<a id="webgpu-init" class="tsd-anchor"></a><h2 class="tsd-anchor-link">WebGPU init<a href="#webgpu-init" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="custom-mini-framework" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Custom mini framework<a href="#custom-mini-framework" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Our custom mini framework makes working with WebGPU easier. It wraps around the WebGPU api and provides a more user-friendly interface for creating geomerty and shaders and loading data on the GPU.</p>
<a id="sdf-texture-for-ray-marching" class="tsd-anchor"></a><h2 class="tsd-anchor-link">SDF Texture for Ray Marching<a href="#sdf-texture-for-ray-marching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Takes the positions of the atoms and calculates a signed distance field texture. To speed up the process considerably, the calculations are performed in a compute shader. This texture is used in the ray-marching shader to render the surface of the molecule.</p>
<a id="ray-marching-shader" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Ray Marching Shader<a href="#ray-marching-shader" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Primarily renders the moleucle surface with raymarchign and a 3D Sigend distanced field. Also applies the different effects like subsurface scattering, transaprency or reflections.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#prequesites"><span>Prequesites</span></a><a href="#how-to-run"><span>How to run</span></a><a href="#hosted-version"><span>Hosted version</span></a><a href="#how-to-prepare-molecule-files"><span>How to prepare molecule files</span></a><ul><li><a href="#prequesites-1"><span>Prequesites</span></a></li><li><a href="#instructions"><span>Instructions</span></a></li></ul><a href="#component-overview"><span>Component <wbr/>Overview</span></a><ul><li><a href="#camera"><span>Camera</span></a></li><li><a href="#geometry"><span>Geometry</span></a></li><li><a href="#material"><span>Material</span></a></li><li><a href="#object3d"><span>Object3D</span></a></li><li><a href="#sceneobject"><span>Scene<wbr/>Object</span></a></li><li><ul><li><a href="#instancing"><span>Instancing</span></a></li></ul></li><li><a href="#scene"><span>Scene</span></a></li><li><a href="#renderer"><span>Renderer</span></a></li><li><a href="#protein-file-parser"><span>Protein <wbr/>File <wbr/>Parser</span></a></li><li><ul><li><a href="#pdb"><span>PDB</span></a></li><li><a href="#mmcif"><span>mmCIF</span></a></li></ul></li><li><a href="#uniform-buffer"><span>Uniform <wbr/>Buffer</span></a></li><li><a href="#webgpu-init"><span>WebGPU init</span></a></li><li><ul><li><a href="#custom-mini-framework"><span>Custom mini framework</span></a></li></ul></li><li><a href="#sdf-texture-for-ray-marching"><span>SDF <wbr/>Texture for <wbr/>Ray <wbr/>Marching</span></a></li><li><a href="#ray-marching-shader"><span>Ray <wbr/>Marching <wbr/>Shader</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">vis2-rtvis-2024ws</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
